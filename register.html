<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="小兔鲜儿官网，致力于打造全球最大的食品、生鲜电商购物平台。">
  <meta name="keywords" content="小兔鲜儿，食品，生鲜，服装，家电，电商，购物">
  <title>小兔鲜儿-新鲜、惠民、快捷！</title>
  <link rel="shortcut icon" href="favicon.ico" type="./favicon.ico">
  <link rel="stylesheet" href="./iconfont/iconfont.css">
  <link rel="stylesheet" href="./css/base.css">
  <link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/register.css">
</head>

<body>
  <!-- 快捷导航 -->
  <div class="shortcut">
    <div class="wrapper">
      <ul>
        <li><a href="javascript:;">请先登录</a></li>
        <li><a href="javascript:;">免费注册</a></li>
        <li><a href="javascript:;">我的订单</a></li>
        <li><a href="javascript:;">会员中心</a></li>
        <li><a href="javascript:;">帮助中心</a></li>
        <li><a href="javascript:;">在线客服</a></li>
        <li><a href="javascript:;"><span class="iconfont icon-shouji"></span>手机版</a></li>
      </ul>
    </div>
  </div>

  <!-- 注册页面 -->
  <div class="register">
    <div class="wrapper">
      <h3>新用户注册</h3>
      <form class="xtx_form">
        <div class="xtx_form_item" data-prop="username">
          <input type="text" name="username" placeholder="设置用户名称">
          <span class="msg"></span>
        </div>
        <div class="xtx_form_item" data-prop="phone">
          <input type="text" name="phone" placeholder="输入手机号码">
          <span class="msg"></span>
        </div>
        <div class="xtx_form_item" data-prop="code">
          <input type="text" name="code" placeholder="短信验证码">
          <span class="msg"></span>
          <a href="javascript:;" class="code">发送验证码</a>
        </div>
        <div class="xtx_form_item" data-prop="password">
          <input type="text" name="password" placeholder="设置6至20位字母、数字和符号组合">
          <span class="msg"></span>
        </div>
        <div class="xtx_form_item" data-prop="confirm">
          <input type="text" name="confirm" placeholder="再次确认密码">
          <span class="msg"></span>
        </div>
        <div class="xtx_form_item p150">
          <!-- icon-xuanzhong icon-weixuan -->
          <i class="iconfont icon-weixuan"></i>我已阅读并同意
          <i>《用户服务协议》</i>
        </div>
        <div class="xtx_form_item">
          <button class="submit">下一步</button>
        </div>
      </form>
    </div>
  </div>

  <!-- 底部 -->
  <div class="footer">
    <div class="wrapper">
      <!-- 服务 -->
      <div class="service">
        <ul>
          <li>
            <h5></h5>
            <p>价格亲民</p>
          </li>
          <li>
            <h5></h5>
            <p>物流快捷</p>
          </li>
          <li>
            <h5></h5>
            <p>品质新鲜</p>
          </li>
        </ul>
      </div>
      <!-- 帮助中心 -->
      <div class="help">
        <div class="left">
          <dl>
            <dt><a href="javascript:;">购物指南</a></dt>
            <dd><a href="javascript:;">购物流程</a></dd>
            <dd><a href="javascript:;">支付方式</a></dd>
            <dd><a href="javascript:;">售后规则</a></dd>
          </dl>
          <dl>
            <dt><a href="javascript:;">配送方式</a></dt>
            <dd><a href="javascript:;">配送运费</a></dd>
            <dd><a href="javascript:;">配送范围</a></dd>
            <dd><a href="javascript:;">配送时间</a></dd>
          </dl>
          <dl>
            <dt><a href="javascript:;">关于我们</a></dt>
            <dd><a href="javascript:;">平台规则</a></dd>
            <dd><a href="javascript:;">联系我们</a></dd>
            <dd><a href="javascript:;">问题反馈</a></dd>
          </dl>
          <dl>
            <dt><a href="javascript:;">售后服务</a></dt>
            <dd><a href="javascript:;">售后政策</a></dd>
            <dd><a href="javascript:;">退款说明</a></dd>
            <dd><a href="javascript:;">取消订单</a></dd>
          </dl>
          <dl>
            <dt><a href="javascript:;">服务热线</a></dt>
            <dd><a href="javascript:;">在线客服 <span class="iconfont icon-kefu"></span></a></dd>
            <dd><a href="javascript:;">客服电话 400-0000-000</a></dd>
            <dd><a href="javascript:;">工作时间 周一至周五 8:00-18:00</a></dd>
          </dl>
        </div>
        <div class="right">
          <ul>
            <li>
              <div class="pic"><img src="./uploads/qrcode.png" alt=""></div>
              <p>微信公众号</p>
            </li>
            <li>
              <div class="pic"><img src="./uploads/qrcode.png" alt=""></div>
              <p>APP下载二维码</p>
            </li>
          </ul>
        </div>
      </div>
      <!-- 版权 -->
      <div class="copyright">
        <p>
          <a href="javascript:;">关于我们</a>|
          <a href="javascript:;">帮助中心</a>|
          <a href="javascript:;">售后服务</a>|
          <a href="javascript:;">配送与验收</a>|
          <a href="javascript:;">商务合作</a>|
          <a href="javascript:;">搜索推荐</a>|
          <a href="javascript:;">友情链接</a>
        </p>
        <p>CopyRight © 小兔鲜儿</p>
      </div>
    </div>
  </div>

  <script>
    //发送验证码
    (function() {
      const code = document.querySelector('.code')
      let flag = true

      code.addEventListener('click', function() {
        let num = 5
        if(flag) {
          flag = false
          code.innerHTML = `重新发送(${num}s)`

          const timer = setInterval(function() {
            num--
            code.innerHTML = `重新发送(${num}s)`
            
            if(num === 0) {
              clearInterval(timer)
              code.innerHTML = `发送验证码`
              flag = true
            }
          },1000)
        }
      })
    })();

    //验证表单
    //用户名
    const username = document.querySelector('[name=username]')
    //值发生变化
    username.addEventListener('change', verifyName)

    function verifyName() {
      const msg = username.nextElementSibling
      const reg = /^[a-zA-Z0-9-]{6,10}$/
      if(!reg.test(username.value)) {
        msg.innerText = '输入不合法，请输入6-10位'
        return false
      }

      msg.innerText = ''
      return true
    }

    //手机号
    const phone = document.querySelector('[name=phone]')
    //值发生变化
    phone.addEventListener('change', verifyPhone)

    function verifyPhone() {
      const msg = phone.nextElementSibling
      const reg = /^1(3\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\d|9[0-35-9])\d{8}$/
      if(!reg.test(phone.value)) {
        msg.innerText = '输入不合法，请输入正确的11位手机号码'
        return false
      }

      msg.innerText = ''
      return true
    }

    //验证码
    const code = document.querySelector('[name=code]')
    //值发生变化
    code.addEventListener('change', verifyCode)

    function verifyCode() {
      const msg = code.nextElementSibling
      const reg = /^\d{6}$/
      if(!reg.test(code.value)) {
        msg.innerText = '输入不合法，6位数字'
        return false
      }

      msg.innerText = ''
      return true
    }

    //密码
    const password = document.querySelector('[name=password]')
    //值发生变化
    password.addEventListener('change', verifyPassword)

    function verifyPassword() {
      const msg = password.nextElementSibling
      const reg = /^[a-zA-Z0-9-_]{6,20}$/
      if(!reg.test(password.value)) {
        msg.innerText = '输入不合法，6-20位数字字母符号组成'
        return false
      }

      msg.innerText = ''
      return true
    }

    //再次确认密码
    const confirm = document.querySelector('[name=confirm]')
    //值发生变化
    confirm.addEventListener('change', verifyConfirm)

    function verifyConfirm() {
      const msg = confirm.nextElementSibling
      if(confirm.value !== password.value) {
        msg.innerText = '两次密码输入不一致'
        return false
      }

      msg.innerText = ''
      return true
    }

    //确认协议
    const agree = document.querySelector('.icon-weixuan')
    agree.addEventListener('click', function() {
      // 切换选中和未选中状态
      if (this.classList.contains('icon-weixuan')) {
          this.classList.remove('icon-weixuan')
          this.classList.add('icon-xuanzhong')
      } else if (this.classList.contains('icon-xuanzhong')) {
          this.classList.remove('icon-xuanzhong')
          this.classList.add('icon-weixuan')
      }
    })

    //提交模块
    const form = document.querySelector('form')
    form.addEventListener('submit', function(e) {
      if(!agree.classList.contains('icon-xuanzhong')) {
        alert('请勾选同意协议')
        e.preventDefault()
      }

      if(!verifyName()) e.preventDefault()
      if(!verifyPhone()) e.preventDefault()
      if(!verifyCode()) e.preventDefault()
      if(!verifyPassword()) e.preventDefault()
      if(!verifyConfirm()) e.preventDefault()
    })
  </script>
</body>
</html>